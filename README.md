# go-bug-analysis (离线版禅道 Bug 分析工具)

> 目标：为测试/质量人员提供一个**无需连库、可离线运行、单文件分发**的 Bug 分析工具，通过 **CSV 导入 + 可视化分析**，解决 **Bug 积压不可视、日报依赖人工** 的问题。

## 📖 项目简介

本工具旨在帮助测试人员和项目经理快速分析禅道（ZenTao）导出的 Bug 数据。它是一个完全离线的工具，不连接禅道数据库，仅通过解析导出的 CSV 文件来生成多维度的质量分析报表。

## ✨ 核心功能

*   **完全离线**：不依赖禅道数据库连接，数据安全且易于部署。
*   **核心看板 (KPI)**：
    *   实时展示新增、修复、积压 Bug 数量。
    *   严重程度分布（饼图/柱状图）。
*   **瓶颈与时效分析**：
    *   计算 Bug 平均修复时长与 P50 修复时长。
    *   积压时长倒序列表，快速定位“钉子户” Bug。
*   **模块与质量趋势**：
    *   模块 Bug 热力图与趋势分析。
    *   识别高风险模块。
*   **人员负载分析**：
    *   指派人 Bug 分布，避免单点过载。
*   **日报辅助**：
    *   一键生成日报/周报核心结论（Markdown/文本），支持复制。
*   **单文件分发**：
    *   Go 编译为单一可执行文件，内置 Web UI，开箱即用。

## 🛠️ 技术栈

*   **后端**: Go 1.20+ (`net/http`, `embed`, `encoding/csv`)
*   **前端**: 原生 HTML / JS
*   **图表**: Apache ECharts
*   **架构**: 单体应用，前后端分离但在同一二进制中分发。

## 🚀 快速开始

### 1. 运行方式

#### 直接运行 (开发模式)
```bash
go run main.go
```

#### 编译运行
```bash
go build -o go-bug-analysis.exe main.go
./go-bug-analysis.exe
```
程序启动后会自动打开浏览器访问 `http://localhost:18088`。

### 2. 使用步骤

1.  **导出数据**：从禅道系统中导出 Bug 列表为 **CSV** 格式（建议包含：ID、标题、严重程度、优先级、状态、创建日期、解决日期、指派给、解决者、所属模块等字段）。
    > **注意**：导出时请确保字符集为 UTF-8 或 GBK（工具会自动识别）。
2.  **上传分析**：在工具页面点击“选择文件”上传导出的 CSV。
3.  **查看报表**：上传成功后，通过左侧导航栏查看各类分析图表。
4.  **生成日报**：在“日报生成”页面获取今日质量摘要。

## 📂 项目结构

```
go-bug-analysis/
├── main.go                 # 程序入口
├── internal/               # 内部逻辑包
│   ├── analysis/           # 数据分析核心逻辑 (KPI, Aging, Trends)
│   ├── csvparse/           # CSV 解析与清洗
│   └── server/             # HTTP 服务与 API 处理
├── web/                    # 前端资源
│   ├── embed.go            # 静态资源嵌入配置
│   └── static/             # 静态文件 (HTML, CSS, JS)
├── .planning/              # 项目规划与开发文档
└── 需求与设计文档.md         # 原始需求文档
```

## 📝 开发计划

详情请参考 `.planning/` 目录下的里程碑和阶段计划文档。

## 📄 License

MIT
