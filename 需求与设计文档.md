# 离线版禅道 Bug 分析工具

> 目标：为测试/质量人员提供一个**无需连库、可离线运行、单文件分发**的 Bug 分析工具，通过 **CSV 导入 + 可视化分析**，解决 **Bug 积压不可视、日报依赖人工** 的问题。

---

## 一、背景与问题定义（Background）

### 1.1 现状问题

在当前以禅道为主的缺陷管理流程中，普遍存在以下问题：

- Bug 数据**分散在系统中**，难以形成整体认知
    
- 测试人员每日/每周需要**手工统计 Bug 数据**，成本高且易出错
    
- Bug 积压、修复瓶颈、模块质量问题**难以直观暴露**
    
- 禅道原生报表对“趋势 / 时效 / 责任分布”支持有限
    

### 1.2 设计目标

本工具的设计目标是：

- **完全离线**：不连接禅道数据库或接口，仅通过 CSV 文件导入
    
- **低使用门槛**：测试人员本地运行，无需额外环境
    
- **分析导向**：围绕 Bug 积压、修复效率、质量风险展开
    
- **自动化输出**：辅助生成日报/周报核心结论
    

---

## 二、用户画像与使用场景（User & Scenario）

### 2.1 目标用户

|角色|使用目的|
|---|---|
|测试工程师|快速了解 Bug 整体状态、生成日报|
|测试负责人|识别瓶颈、风险模块、人员负载|
|项目负责人|获取高层质量概览（非操作级）|

### 2.2 核心使用场景

1. 测试人员从禅道导出 Bug CSV
    
2. 在本地启动工具并导入 CSV
    
3. 查看整体 Bug 状态与风险分布
    
4. 一键生成当日 Bug 分析结论，用于日报/周报
    

---

## 三、需求文档（PRD）

### 3.1 功能范围

#### 3.1.1 CSV 导入

- 支持手动选择 CSV 文件

---

### 3.2 核心看板（KPI Header）

**目的：** 用最少信息回答“当前 Bug 状态是否健康”。

#### 展示指标

- 新增 Bug 数（今日 / 昨日 / 指定日期）
    
- 修复 Bug 数（同上）
    
- Bug 库存：
    
    - 总数
        
    - 激活状态数
        
    - 待验证数
        
- 严重程度分布：
    
    - 维度：新增 / 总体
        
    - 图表：饼图 / 柱状图切换
        

---

### 3.3 瓶颈与时效分析（Aging & Bottleneck）

**目的：** 找出 Bug 积压与修复效率问题。

#### 功能点

- 已修复 Bug：
    
    - 平均修复时长
        
    - P50 修复时长
        
    - 修复耗时分布（0–1 天 / 2–3 天 / 4–7 天 / 7+ 天）
        
- 未修复 Bug：
    
    - 积压时长计算
        
    - 按积压时长倒序列表

---

### 3.4 模块与质量分析（Quality & Module）

**目的：** 识别质量高风险模块，辅助技术决策。

- 各模块 Bug 总数
    
- 各模块激活 Bug 数
    
- 模块 Bug 热力图 
    
- 模块 Bug 趋势（近 7 天 / 30 天）
    

---

### 3.5 人员与负载分析（Workload）

**目的：** 展示 Bug 负载分布，避免单点失衡。

- 当前激活 Bug 指派人分布
    
- 总 Bug 指派人分布

---

### 3.6 日报辅助输出

- 自动生成日报文本（Markdown / 纯文本）
    
- 内容包括：
    
    - 今日新增 / 修复 / 净变化
        
    - 严重 Bug 风险提示
        
    - 瓶颈模块 / 人员概览
        
- 支持一键复制
    

---

## 四、设计文档（Design Doc）

### 4.1 技术架构

```
┌────────────────────┐
│   Go 单文件程序     │
│                    │
│  ┌──────────────┐  │
│  │ 数据解析层     │  │  CSV → Struct
│  └──────────────┘  │
│  ┌──────────────┐  │
│  │ 分析计算层     │  │  KPI / Aging / SLA
│  └──────────────┘  │
│  ┌──────────────┐  │
│  │ HTTP API 层    │  │  JSON
│  └──────────────┘  │
│  ┌──────────────┐  │
│  │ embed Web UI  │  │  HTML + JS + ECharts
│  └──────────────┘  │
└────────────────────┘
```

---

### 4.2 技术选型

|层级|技术|
|---|---|
|后端|Go 1.20+|
|Web|net/http + embed.FS|
|前端|原生 HTML / JS|
|图表|ECharts|
|数据|CSV（非直连禅道）|


---

## 五、非功能性需求

- 启动时间 < 2s
    
- CSV 数据量：1–5 万条可接受
    
- 单文件分发（exe / binary）
---

## 七、边界与不做事项

- 不作为缺陷管理系统
    
- 不支持多用户协作
    
- 不支持在线数据同步
    

---

> 本工具定位为 **“质量分析辅助工具”**，而非流程或管理系统。